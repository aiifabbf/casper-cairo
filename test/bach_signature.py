import sys
sys.path.append("..")
try:
    from cairo import *
except:
    raise Exception("failed to import cairo")
import re

s = ImageSurface(FORMAT_RGB24, 720, 144)
c = Context(s)

c.scale(2, 2)

# path data clipped from wikipedia
path = "M 18.192846,67.450504 C 16.679722,66.839944 17.12779,64.174641 19.200365,61.457361 C 21.95688,57.843389 31.917143,50.113565 34.477161,49.601563 C 38.430505,48.810892 39.207795,45.189014 35.835913,43.270311 C 33.269668,41.81005 33.175611,41.077263 34.820843,35.362181 C 35.845655,31.802237 36.865197,30.346709 41.500281,25.826407 C 47.116371,20.349396 49.721664,18.800509 50.688049,20.364153 C 51.311947,21.373642 50.370462,27.145724 49.236213,29.265076 C 48.13743,31.318175 48.296475,33.018625 49.587288,33.018625 C 51.39572,33.018625 50.860506,34.303835 48.841,34.810702 C 47.586842,35.125471 46.480895,36.33977 45.44901,38.535026 C 44.606903,40.326531 43.270838,42.377892 42.47998,43.093611 C 40.337297,45.03271 40.730481,45.849672 43.642778,45.509683 C 45.657425,45.274481 46.243502,45.473845 46.243502,46.394366 C 46.243502,47.047936 45.84782,47.978356 45.364212,48.461964 C 44.880596,48.945579 44.703576,49.559915 44.970819,49.827158 C 45.238062,50.0944 46.425693,49.275767 47.610003,48.00796 C 49.892278,45.564773 50.786088,45.539747 50.159299,47.93658 C 49.679258,49.772267 46.138402,52.338282 44.085369,52.338282 C 42.919748,52.338282 42.528183,51.871163 42.528183,50.480623 C 42.528183,47.419215 39.897789,48.110733 37.581853,51.780985 C 34.791284,56.203417 27.915774,63.308325 23.991878,65.824376 C 20.689094,67.942168 19.935211,68.153562 18.192846,67.450504 z M 23.826115,63.920655 C 27.298065,62.125242 35.734366,52.338282 33.810054,52.338282 C 32.106929,52.338282 20.673133,61.279531 19.447337,63.56995 C 18.824546,64.733648 18.959717,64.970366 20.24703,64.970366 C 21.099072,64.970366 22.709662,64.498 23.826115,63.920655 z M 41.78665,40.075888 C 42.346809,39.400941 42.531995,38.05335 42.254943,36.668109 C 41.859597,34.691387 42.203999,33.973499 44.763155,31.439793 C 47.599883,28.631273 48.839573,24.844924 46.922379,24.844924 C 45.838762,24.844924 38.04285,33.002426 37.335675,34.876284 C 37.027207,35.693655 36.936955,37.449142 37.135115,38.777369 C 37.419686,40.684747 37.849006,41.192326 39.177753,41.192326 C 40.103038,41.192326 41.277042,40.689926 41.78665,40.075888 z M 45.128906,34.628599 C 45.128906,33.28465 43.674507,33.530002 43.38605,34.922615 C 43.225555,35.697415 43.504108,36.037106 44.129114,35.828766 C 44.678996,35.645475 45.128906,35.105393 45.128906,34.628599 z M 163.65996,62.183877 C 163.66676,61.877363 165.17147,59.133987 167.00374,56.087492 C 168.83601,53.040998 170.33514,49.939405 170.33514,49.19507 C 170.33514,47.935637 170.18303,47.920396 168.14285,48.975414 C 165.43315,50.376654 164.07727,50.407595 162.98632,49.093085 C 162.34496,48.320292 162.41211,47.853819 163.26687,47.144437 C 164.47074,46.145329 164.80033,44.164581 163.76273,44.164581 C 162.91665,44.164581 161.02042,46.431647 160.38943,48.197589 C 159.90391,49.556348 159.81229,49.563705 158.60458,48.340904 C 157.40079,47.122057 157.48524,46.910253 160.15687,44.448053 C 163.62584,41.250991 166.99135,41.111406 166.99135,44.164581 C 166.99135,45.553353 167.36647,46.002185 168.47748,45.942784 C 171.59788,45.775959 172.27109,45.118742 174.95489,39.619267 C 179.02129,31.286655 182.67647,27.69808 191.4927,23.382819 C 196.37764,20.991796 199.27459,19.963062 199.9921,20.364606 C 200.80936,20.821969 200.14198,21.497845 197.31413,23.076685 C 194.70291,24.53459 193.28956,25.893305 192.70622,27.506497 C 192.24344,28.786298 191.20036,30.43471 190.38827,31.169645 C 188.76486,32.638801 188.4269,35.951884 189.76402,37.289013 C 190.40504,37.930024 189.94453,38.537664 187.90636,39.740209 C 186.41589,40.619609 185.19641,41.477232 185.19641,41.646034 C 185.19641,41.814843 186.48938,41.746199 188.06965,41.493505 C 191.26192,40.983035 194.11318,42.097675 194.11318,43.856091 C 194.11318,45.480228 191.97983,49.366027 191.08818,49.366027 C 190.62961,49.366027 190.51682,48.372967 190.80245,46.8504 C 191.4114,43.604453 190.34092,42.957207 186.47415,44.233359 C 184.36048,44.930933 182.77756,46.187468 181.20885,48.413003 C 178.88643,51.707852 178.19179,52.142619 177.37124,50.814927 C 177.106,50.385771 178.45702,48.358292 180.37349,46.30942 C 183.50423,42.962408 183.80999,42.328262 183.38506,40.063241 C 182.98066,37.907568 183.27394,37.133779 185.40911,34.723154 C 188.29245,31.467851 190.39786,28.483521 190.39786,27.65184 C 190.39786,26.334299 187.43993,27.225128 184.77031,29.346679 C 180.67122,32.604218 178.78551,35.576644 175.90815,43.315973 C 174.19158,47.933103 171.88745,52.184253 168.79338,56.442855 C 164.35645,62.549694 163.63387,63.357821 163.65996,62.183877 z M 335.73484,56.871826 C 334.52052,55.530016 334.54118,55.402536 336.15655,54.271102 C 338.24949,52.80515 339.78069,52.765454 341.64522,54.128828 C 343.05093,55.156723 343.05144,55.205364 341.67207,56.729551 C 339.92167,58.663716 337.41092,58.723882 335.73484,56.871826 z M 294.2202,55.599329 C 292.99191,54.371037 293.84189,51.422605 296.1772,48.81087 C 298.50098,46.212041 300.37129,43.333449 300.37129,42.355771 C 300.37129,42.124559 298.21757,41.93539 295.58524,41.93539 C 292.95291,41.93539 290.58343,41.586306 290.31973,41.159647 C 290.05605,40.732994 290.38627,39.550654 291.05357,38.532232 L 292.26683,36.680547 L 294.19008,38.193373 C 296.24246,39.807768 299.17462,40.124388 302.02761,39.039686 C 302.99179,38.67311 305.1989,36.180191 306.93229,33.499877 C 310.85002,27.441962 313.34451,25.320588 315.31198,26.373555 C 316.08567,26.787619 316.7187,27.623373 316.7187,28.230783 C 316.7187,30.658409 312.73282,35.152727 307.80297,38.283789 C 304.96252,40.087829 302.62996,41.962868 302.6195,42.450556 C 302.60904,42.938236 303.30339,43.829585 304.16251,44.431334 C 305.48942,45.360736 305.64736,45.982234 305.21179,48.560316 C 304.74374,51.330732 304.83851,51.595219 306.29934,51.595219 C 307.17951,51.595219 308.46282,51.29962 309.15114,50.938328 C 309.87743,50.557114 313.71807,50.563422 318.3027,50.953353 C 327.09956,51.701544 330.09384,51.114426 330.09384,48.641354 C 330.09384,47.799381 330.58467,47.136836 331.20844,47.136836 C 333.49235,47.136836 332.32021,50.089876 329.22265,52.139743 C 326.83838,53.71758 325.33663,54.160713 322.72084,54.058281 C 320.85006,53.985023 314.89712,53.869937 309.49208,53.802542 L 299.66474,53.679995 L 300.81587,51.453955 C 301.449,50.229639 301.74671,49.008212 301.47747,48.739677 C 300.98612,48.249626 299.0722,50.204322 296.26363,54.064583 C 295.43481,55.203759 294.51527,55.894399 294.2202,55.599329 z M 297.39904,50.852155 C 297.39904,50.44347 297.25158,50.109091 297.07136,50.109091 C 296.89114,50.109091 296.53703,50.44347 296.28445,50.852155 C 296.03186,51.26084 296.17931,51.595219 296.61212,51.595219 C 297.04492,51.595219 297.39904,51.26084 297.39904,50.852155 z M 311.11986,33.684715 C 313.63712,31.474531 314.57051,29.303306 313.00338,29.303306 C 312.03924,29.303306 307.05886,34.602064 307.05886,35.627841 C 307.05886,36.579535 308.73781,35.77618 311.11986,33.684715 z M 116.83455,52.867411 C 114.17702,51.529688 113.99476,48.422953 116.43087,45.986841 C 119.65664,42.761068 123.71001,44.946626 121.31986,48.622963 C 120.72268,49.541495 120.33157,49.574175 119.09649,48.80873 C 117.01779,47.520443 116.69578,47.631739 116.96863,49.544199 C 117.43859,52.838238 122.09045,52.14172 126.55424,48.108956 C 130.4136,44.622249 132.54531,40.913529 135.44142,32.647094 C 138.65729,23.467989 141.76215,17.865355 146.42516,12.827227 C 150.52016,8.4027806 155.90422,5.2442321 160.83957,4.3710208 C 163.2757,3.9399992 163.88331,4.1605628 165.94829,6.225537 C 168.00432,8.2815796 168.2432,8.9331056 167.89442,11.533464 C 167.34673,15.616807 164.37465,19.242892 160.29999,20.799009 C 156.46562,22.263371 154.99982,21.802598 158.1913,20.136136 C 164.53326,16.824635 168.33128,8.3988196 163.97488,7.3054316 C 155.72036,5.2336806 146.15901,12.368326 142.00374,23.700204 C 141.09852,26.168885 138.63066,31.866876 136.51963,36.362412 C 133.48191,42.831377 131.87795,45.281525 128.8291,48.110153 C 125.46631,51.230032 121.08079,53.847527 119.27337,53.813457 C 118.95373,53.80743 117.85626,53.381707 116.83455,52.867411 z M 57.576101,51.918712 C 56.338142,51.009 56.340147,50.851404 57.617236,48.678136 C 58.355537,47.421734 58.625225,46.393772 58.21654,46.393772 C 57.807854,46.393772 56.880912,47.396909 56.156663,48.622963 C 55.432413,49.849018 54.577563,50.852155 54.256991,50.852155 C 53.070303,50.852155 53.730025,48.318434 55.531798,45.956189 C 57.288097,43.653569 58.045887,40.445993 56.83216,40.452041 C 56.525646,40.453565 55.147107,41.142355 53.768746,41.982686 C 50.966088,43.691339 49.215757,43.434075 49.215757,41.313483 C 49.215757,40.230638 49.901545,39.809893 52.160333,39.506923 C 55.938329,39.000192 60.407515,36.775176 61.425104,34.894392 C 65.86326,26.69149 69.700775,22.740151 71.490266,24.530705 C 72.595164,25.636249 70.280098,29.516766 65.50008,34.571457 C 62.725161,37.505824 61.104776,39.856951 61.104776,40.948891 C 61.104776,41.900147 61.439155,42.678453 61.84784,42.678453 C 63.064109,42.678453 62.696434,44.93302 61.044172,47.60643 L 59.49744,50.109091 L 61.878224,50.109091 C 63.825876,50.109091 64.103135,50.296893 63.402263,51.141399 C 62.171831,52.623983 59.094544,53.034548 57.576101,51.918712 z M 67.005758,31.04753 C 67.85852,29.963422 68.392434,28.912641 68.192245,28.712452 C 67.701354,28.221561 65.653627,29.975036 64.753382,31.657154 C 63.631676,33.753076 65.214572,33.324649 67.005758,31.04753 z M 93.477374,52.414238 C 92.489649,52.027444 92.315467,51.681681 92.920076,51.308017 C 93.403803,51.009053 93.799581,50.241668 93.799581,49.602723 C 93.799581,48.637476 93.604712,48.602723 92.647379,49.397243 C 91.674174,50.204924 91.429832,50.103622 91.074581,48.74516 C 90.52189,46.631664 89.15813,46.710904 87.004234,48.981655 C 84.954255,51.142856 84.139752,51.325048 84.139752,49.622391 C 84.139752,48.478088 84.045323,48.478088 82.780882,49.622391 C 80.997447,51.236386 80.424434,51.174042 80.424434,49.366027 C 80.424434,48.544154 79.929056,47.8799 79.316132,47.8799 C 78.706567,47.8799 77.790191,48.548657 77.279736,49.366027 C 76.308239,50.921646 74.086798,51.286313 72.336103,50.177579 C 71.704275,49.777432 70.356819,49.922716 68.846304,50.553852 C 67.173192,51.252919 66.231196,51.331907 65.902873,50.800668 C 65.053291,49.426022 67.008106,46.075214 69.669723,44.343794 C 71.862296,42.917483 72.47753,42.80586 73.765163,43.600729 C 74.832611,44.259671 75.157954,45.03022 74.86602,46.208007 C 74.308506,48.457238 75.889285,48.391462 79.383795,46.020026 C 81.217557,44.775603 82.407775,44.395266 82.980595,44.870663 C 83.78722,45.540103 84.663174,45.663259 88.226603,45.608227 C 89.043973,45.595603 90.621385,45.585683 91.731962,45.586181 C 92.842537,45.586679 93.949003,45.267021 94.190774,44.875834 C 94.432545,44.484648 95.438208,44.164581 96.425583,44.164581 C 98.02398,44.164581 98.171932,44.408989 97.774972,46.393772 C 97.368383,48.426713 97.532495,48.663639 99.639148,49.084963 C 102.45812,49.648763 101.97784,50.852155 98.933854,50.852155 C 97.656067,50.852155 96.544926,51.32192 96.297486,51.966751 C 95.825723,53.196134 95.575444,53.235844 93.477374,52.414238 z M 71.390718,45.75288 C 70.281755,45.357838 69.024773,46.868248 69.637474,47.859622 C 70.002021,48.449473 70.469453,48.297814 71.155546,47.367067 C 71.769956,46.533557 71.859375,45.919824 71.390718,45.75288 z M 283.03314,51.842904 C 282.76069,51.570452 282.53777,50.734505 282.53777,49.985244 C 282.53777,48.315261 281.88324,48.272096 279.70419,49.798372 C 278.52234,50.626167 277.20002,50.834218 275.23289,50.501874 C 273.69665,50.242323 271.48074,50.394576 270.30863,50.840206 C 268.75181,51.432116 267.95987,51.425124 267.36973,50.814266 C 266.78057,50.204434 267.9425,48.68842 271.66227,45.213676 C 276.30554,40.876249 278.5478,39.67924 279.75957,40.891014 C 280.00254,41.133973 279.55794,42.387894 278.7716,43.677503 C 277.98525,44.967112 277.34062,46.316776 277.33909,46.676761 C 277.33338,48.022992 282.88092,46.366732 285.54301,44.227415 C 288.8663,41.556754 289.8972,42.036996 287.34697,45.067782 C 286.33664,46.268477 285.51002,47.570079 285.51002,47.960232 C 285.51002,49.233108 287.79868,49.585328 289.64588,48.596734 C 292.62127,47.004355 292.43705,48.254902 289.38462,50.370241 C 286.64106,52.271533 284.06017,52.869937 283.03314,51.842904 z M 275.10713,45.468739 C 275.10713,45.054237 274.61428,45.134703 273.99253,45.650708 C 273.37951,46.159477 272.87794,46.91012 272.87794,47.318805 C 272.87794,47.733308 273.37078,47.652842 273.99253,47.136836 C 274.60555,46.628068 275.10713,45.877425 275.10713,45.468739 z M 135.96844,50.437437 C 134.84476,49.275983 135.45769,46.279675 137.16902,44.568347 C 138.13585,43.60151 140.30932,42.10521 141.99893,41.243233 L 145.07097,39.675994 L 145.07097,41.379779 C 145.07097,42.571081 144.27328,43.513152 142.419,44.511748 C 140.96042,45.297248 139.44129,46.548575 139.04317,47.292471 C 137.91411,49.402133 140.08064,49.745689 144.46472,48.15218 L 148.28031,46.765304 L 152.83592,37.68025 C 157.45364,28.471313 160.16761,24.81671 163.79643,22.920924 C 166.56314,21.475524 166.61982,21.511227 166.61982,24.699447 C 166.61982,27.944161 163.85287,32.710863 159.65732,36.693944 C 158.17379,38.10234 156.95874,39.774233 156.95721,40.409264 C 156.95085,43.053879 153.87789,46.526283 149.95413,48.32264 C 145.9386,50.161009 137.00756,51.511482 135.96844,50.437437 z M 158.56622,35.433583 C 161.72136,32.117073 165.1337,27.104907 165.1337,25.787032 C 165.1337,22.568199 158.55615,29.433521 156.06164,35.256005 C 154.47572,38.957711 155.16695,39.006723 158.56622,35.433583 z M 239.57783,50.021514 C 235.89308,48.940074 236.74165,47.076663 241.55331,45.683567 C 245.11303,44.65293 248.35683,42.132279 248.35683,40.396773 C 248.35683,40.049769 247.01931,39.365125 245.38458,38.875342 C 242.42118,37.987492 242.41234,37.97356 242.41958,34.201367 C 242.42845,29.578478 244.60982,24.628128 249.4322,18.287119 C 254.58026,11.517868 259.66396,8.1367936 267.44759,6.305446 C 272.41717,5.1361907 273.90101,5.6678231 275.79157,9.2949326 C 278.07296,13.671891 277.83588,17.987812 275.10713,21.754745 C 272.56151,25.268878 272.45126,25.794983 273.99253,27.074115 C 275.39844,28.240911 275.44378,33.026465 274.07901,36.200514 C 272.93555,38.859871 268.8488,42.94161 264.34598,45.921622 C 260.79436,48.272111 260.52209,48.298364 259.50013,46.388801 C 258.84354,45.161959 259.04401,44.555804 260.63131,42.968516 C 262.43401,41.165814 262.64881,41.119253 263.90754,42.258392 C 265.78713,43.959392 268.35302,42.671863 270.89439,38.752484 C 273.22079,35.164638 273.43837,31.646179 271.48314,29.231586 L 270.08836,27.509097 L 266.86173,28.963496 C 260.39703,31.877457 248.72836,42.083965 248.72836,44.82463 C 248.72836,45.5155 250.07254,46.476461 252.07215,47.215111 C 253.91123,47.894464 255.41594,48.907119 255.41594,49.465457 C 255.41594,50.720113 243.39604,51.142113 239.57783,50.021514 z M 252.4039,35.740319 C 253.15128,35.193826 253.61869,34.314461 253.4426,33.786181 C 253.21843,33.113655 252.46368,33.404528 250.9254,34.756317 C 248.58521,36.812775 249.81652,37.632263 252.4039,35.740319 z M 250.12055,33.669512 C 252.04809,32.392757 255.50858,29.21616 257.81053,26.610406 C 260.11247,24.004653 262.43807,21.872669 262.97853,21.872669 C 264.13105,21.872669 264.28812,23.069023 263.2221,23.727861 C 262.81562,23.979083 262.13765,24.829988 261.71551,25.618758 C 261.00722,26.942199 261.1054,26.993039 262.98753,26.277462 C 264.10927,25.850973 265.45165,25.149654 265.97059,24.718967 C 266.48953,24.288287 267.70748,24.13503 268.67714,24.378399 C 273.06054,25.478564 277.0837,14.622402 273.9504,10.148988 C 271.47817,6.619383 262.80283,8.8076616 255.37141,14.835372 C 253.71217,16.181195 250.61917,19.851156 248.49807,22.990853 C 245.15106,27.945157 244.64151,29.18108 244.64151,32.345134 C 244.64151,36.731217 245.26917,36.882928 250.12055,33.669512 z M 259.36347,30.835876 C 259.54923,30.278577 259.27058,29.999929 258.71328,30.185695 C 258.17688,30.364498 257.59173,30.94966 257.41292,31.486056 C 257.22716,32.043354 257.50581,32.322003 258.0631,32.136237 C 258.59951,31.957441 259.18466,31.372278 259.36347,30.835876 z M 198.19165,47.866346 C 197.47498,46.706743 200.51986,42.301921 202.73619,41.292097 C 205.53215,40.018166 205.79869,40.799312 203.30144,42.948669 C 202.13041,43.956568 201.37831,44.987821 201.63011,45.240337 C 201.88191,45.492845 203.5538,44.473807 205.34542,42.975806 C 208.19027,40.597177 208.63197,40.429363 208.83219,41.651071 C 209.36323,44.891208 209.57254,45.021282 212.11912,43.693642 C 213.4547,42.997362 215.71776,42.191614 217.14815,41.903089 C 218.57856,41.614572 220.33404,41.133654 221.04924,40.834385 C 222.12226,40.385388 222.3496,40.686203 222.3496,42.555098 C 222.3496,43.800762 222.70021,45.036633 223.12875,45.301476 C 224.27058,46.007164 222.50146,47.8799 220.693,47.8799 C 219.65029,47.8799 219.35117,47.533781 219.67179,46.69825 C 220.48923,44.568043 219.31391,44.108554 217.09293,45.690039 C 215.18052,47.051785 214.85739,47.097922 214.46131,46.065754 C 214.06185,45.024766 213.73081,45.061519 211.59018,46.384499 C 208.64961,48.201869 207.04295,48.279876 206.13058,46.64958 C 205.5042,45.530288 205.23905,45.563814 203.19247,47.021111 C 200.75688,48.7554 198.93177,49.063883 198.19165,47.866346 z M 197.58081,34.752438 C 196.64192,33.813547 197.08828,31.690406 198.32428,31.216109 C 200.1453,30.517316 201.09121,31.830548 200.10038,33.681914 C 199.24026,35.289078 198.45226,35.623888 197.58081,34.752438 z"

c.set_source_rgb(1, 1, 1)
c.paint()
c.set_source_rgb(0, 0, 0)

r = re.findall(r"[M]\s*[\d.]+[\s+,][\d.]+|[C]\s*[\d.]+[\s,]+[\d.]+[\s,]+[\d.]+[\s,]+[\d.]+[\s,]+[\d.]+[\s,]+[\d.]+|z", path)
for i in r:
    if i[0] == "M":
        j = i.split()[-1].split(",")
        c.move_to(float(j[0]), float(j[1]))
    if i[0] == "C":
        ff = []
        for j in i.split()[-3:]:
            ff += [float(j.split(",")[0]), float(j.split(",")[1])]
        c.curve_to(*ff)
    if i[0] == "z":
        c.close_path()

print("Path extents: ", c.path_extents())
c.fill()

with open("bach_signature.png", "wb+") as f:
    s.write_to_png(f)

s.finish()